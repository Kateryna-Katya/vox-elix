(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const t of o.addedNodes)t.tagName==="LINK"&&t.rel==="modulepreload"&&n(t)}).observe(document,{childList:!0,subtree:!0});function a(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(e){if(e.ep)return;e.ep=!0;const o=a(e);fetch(e.href,o)}})();document.addEventListener("DOMContentLoaded",()=>{typeof lucide<"u"&&lucide.createIcons(),typeof gsap<"u"&&typeof ScrollTrigger<"u"&&gsap.registerPlugin(ScrollTrigger);const s=new Lenis({duration:1.2,easing:i=>Math.min(1,1.001-Math.pow(2,-10*i)),direction:"vertical",gestureDirection:"vertical",smooth:!0,mouseMultiplier:1,smoothTouch:!1,touchMultiplier:2});function r(i){s.raf(i),requestAnimationFrame(r)}requestAnimationFrame(r);const a=document.getElementById("header");window.addEventListener("scroll",()=>{window.scrollY>50?a.classList.add("scrolled"):a.classList.remove("scrolled")});const n=document.querySelector(".header__burger"),e=document.querySelector(".header__nav"),o=document.querySelectorAll(".header__link"),t=document.body;n&&e&&n.addEventListener("click",()=>{e.classList.toggle("active"),n.classList.toggle("is-active"),e.classList.contains("active")?(s.stop(),t.style.overflow="hidden"):(s.start(),t.style.overflow="")}),o.forEach(i=>{i.addEventListener("click",()=>{e.classList.remove("active"),n.classList.remove("is-active"),s.start(),t.style.overflow=""})}),p(),m(),f(),y()});function p(){if(!document.querySelector(".hero__title"))return;try{const e=new SplitType("[data-split]",{types:"words, chars",tagName:"span"})}catch(e){console.warn("SplitType library missing or error",e)}gsap.timeline({defaults:{ease:"power3.out"}}).to(".hero__badge",{y:0,opacity:1,duration:.8,delay:.1}).to(".hero__title .char",{y:0,opacity:1,stagger:.02,duration:1},"-=0.5").to(".hero__desc .word",{y:0,opacity:1,stagger:.01,duration:.8},"-=0.8").to([".hero__actions",".hero__stats"],{y:0,opacity:1,stagger:.2,duration:.8},"-=0.6");const a=document.querySelector(".hero__glow--1"),n=document.querySelector(".hero__glow--2");a&&n&&document.addEventListener("mousemove",e=>{const o=(window.innerWidth/2-e.pageX)/25,t=(window.innerHeight/2-e.pageY)/25;gsap.to(a,{x:o,y:t,duration:2,ease:"power2.out"}),gsap.to(n,{x:-o,y:-t,duration:2.5,ease:"power2.out"})})}function m(){gsap.utils.toArray(".reveal-card").forEach((t,i)=>{gsap.from(t,{scrollTrigger:{trigger:t,start:"top 90%",toggleActions:"play none none reverse"},y:40,opacity:0,duration:.6,delay:0})});const r=document.querySelectorAll(".innovation__list li");r.length>0&&gsap.from(r,{scrollTrigger:{trigger:".innovation__list",start:"top 85%"},x:-30,opacity:0,stagger:.1,duration:.6}),gsap.utils.toArray(".reveal-program").forEach((t,i)=>{gsap.from(t,{scrollTrigger:{trigger:t,start:"top 95%",toggleActions:"play none none reverse"},y:30,opacity:0,duration:.6,ease:"power2.out"})});const n=document.querySelector(".reveal-left"),e=document.querySelector(".reveal-right");n&&gsap.from(n,{scrollTrigger:{trigger:"#about",start:"top 80%"},x:-50,opacity:0,duration:.8,ease:"power2.out"}),e&&gsap.from(e,{scrollTrigger:{trigger:"#about",start:"top 80%"},x:50,opacity:0,duration:.8,delay:.1,ease:"power2.out"}),gsap.utils.toArray(".reveal-item").forEach((t,i)=>{gsap.from(t,{scrollTrigger:{trigger:t,start:"top 90%"},y:40,opacity:0,duration:.6})})}function f(){const s=document.getElementById("contactForm"),r=document.getElementById("phone"),a=document.getElementById("formSuccess"),n=document.querySelector(".form__btn"),e=document.getElementById("captchaLabel"),o=document.getElementById("captcha");if(!s)return;r&&r.addEventListener("input",c=>{c.target.value=c.target.value.replace(/\D/g,""),document.getElementById("phoneError").textContent="",r.classList.remove("error")});let t=Math.floor(Math.random()*10)+1,i=Math.floor(Math.random()*10)+1,u=t+i;e&&(e.textContent=`Сколько будет ${t} + ${i}?`),s.addEventListener("submit",c=>{c.preventDefault();let l=!0;if(r.value.length<7&&(document.getElementById("phoneError").textContent="Минимум 7 цифр",r.classList.add("error"),l=!1),parseInt(o.value)!==u?(document.getElementById("captchaError").textContent="Неверный ответ",o.classList.add("error"),l=!1):(document.getElementById("captchaError").textContent="",o.classList.remove("error")),l){const d=n.querySelector("span"),g=d.textContent;d.textContent="Отправка...",n.disabled=!0,setTimeout(()=>{s.reset(),d.textContent=g,n.disabled=!1,a.style.display="flex",t=Math.floor(Math.random()*10)+1,i=Math.floor(Math.random()*10)+1,u=t+i,e.textContent=`Сколько будет ${t} + ${i}?`,setTimeout(()=>{a.style.display="none"},5e3)},1500)}})}function y(){const s=document.getElementById("cookiePopup"),r=document.getElementById("cookieAccept");s&&!localStorage.getItem("cookiesAccepted")&&setTimeout(()=>{s.classList.add("show")},2e3),r&&r.addEventListener("click",()=>{localStorage.setItem("cookiesAccepted","true"),s.classList.remove("show")})}
//# sourceMappingURL=main-BP9ZR1w-.js.map
